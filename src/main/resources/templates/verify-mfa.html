<!DOCTYPE html>
<html lang="pl" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Weryfikacja MFA – StudyFlow</title>

    <!-- favicon -->
    <link rel="icon" th:href="@{/favicon.ico}" type="image/x-icon">

    <!-- wspólny arkusz auth -->
    <link rel="stylesheet" th:href="@{/css/auth.css}">
    <script defer th:src="@{/js/verifyMfa.js}"></script>
</head>
<body>

<div id="TopBar">
    <img class="logo" th:src="@{/img/logo.svg}" alt="logo">
</div>

<div class="card-wrap">
    <h2 class="card-title">Potwierdź logowanie</h2>

    <!-- info o wysyłce kodu  -->
    <p class="info-msg">
        Na Twój adres e-mail wysłaliśmy jednorazowy kod (ważny 5&nbsp;minut).
        Wpisz go poniżej, aby dokończyć logowanie.
    </p>

    <form class="auth-form" th:action="@{/verify-mfa}" method="post">

        <div class="field">
            <label>Kod 6-cyfrowy</label>
            <input type="text" name="code" pattern="[0-9]{6}" maxlength="6"
                   inputmode="numeric" autocomplete="one-time-code" required>
        </div>

        <button class="btn-primary">Zweryfikuj</button>

        <p class="error-msg"   th:if="${error}"   th:text="${error}"></p>
        <p class="success-msg" th:if="${success}" th:text="${success}"></p>
    </form>

    <p class="note">
        Nie otrzymałeś kodu?
        <a th:href="@{/verify-mfa/resend}">Wyślij ponownie</a>
    </p>
</div>

</body>
</html>
