<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Zmiana hasła – StudyFlow</title>

    <!-- wspólna paleta + własny arkusz -->
    <link rel="stylesheet" th:href="@{/css/stylehomePage.css}">
    <link rel="stylesheet" th:href="@{/css/styleChangePassword.css}">
</head>
<body>

<!-- TopBar zgodny z resztą -->
<div id="TopBar">
    <img class="logo" th:src="@{/img/logo.svg}" alt="Logo">
</div>

<!-- karta -->
<div class="card-wrap">
    <h2 class="card-title">Zmień hasło</h2>

    <form id="pwdForm" method="post" th:action="@{/changePassword}" class="pwd-form">

        <label>
            Aktualne hasło
            <div class="pwd-field">
                <input type="password" name="old_pass" required>
                <button type="button" class="toggle eye">👁</button>
            </div>
        </label>

        <label>
            Nowe hasło
            <div class="pwd-field">
                <input type="password" name="new_pass" id="newPass" required>
                <button type="button" class="toggle eye">👁</button>
            </div>
            <span id="pwdStrength" class="strength"></span>
        </label>

        <label>
            Powtórz nowe hasło
            <div class="pwd-field">
                <input type="password" name="new_pass2" id="newPass2" required>
                <button type="button" class="toggle eye">👁</button>
            </div>
            <span class="error-msg" id="errSame">Hasła się różnią</span>
        </label>

        <div class="actions">
            <button type="submit" class="btn-primary">Zapisz</button>
            <a th:href="@{/home}" class="btn-secondary">Powrót</a>
        </div>
    </form>
</div>

<!-- toast + modal -->
<div id="toast" class="toast">Hasło zmienione – przy następnym logowaniu użyj nowego</div>
<script src="/js/modal.js"></script>
<script src="/js/changePassword.js"></script>
</body>
</html>
